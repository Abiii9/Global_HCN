{% load static %}
<!DOCTYPE html>
<html>
<head>
  <title>Individual temp by year Tracking</title>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css"
     integrity="sha256-kLaT2GOSpHechhsozzB+flnD+zUyjE2LlfWPgU04xyI="
     crossorigin=""/>
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"
     integrity="sha256-WBkoXOwTeyKclOHuWtc+i2uENFpDZ9YPdf5Hf+D7ewM="
     crossorigin=""></script>
  <style>
    #map { height: 700px;}
  </style>
</head>
<body>
  <div id="map"></div>
  <script type = "text/javascript">
  const temp_str = `{{temps|escapejs}}`
  temp_arr = [];
  console.log(temp_str)
  let latitude = 57.149651;
  let longitude = -2.099075;
  let map = L.map('map').setView([latitude, longitude], 10);
  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {
  maxZoom: 19,
  minZoom: 3,
  noWrap: true,
  bounds: [
    [-90, -180],
    [90, 180],
    ],
  attribution: '&copy; <a href="http://www.openstreetmap.org/copyright">OpenStreetMap</a>'
  }).addTo(map);
  //let tems = {{temps}}
  //for (let temp of tems){
    // for(let [key, value] of Object.entries(temp)){
      // console.log(key, value);
    // }
  //}
  L.marker([10, -175]).addTo(map)
  .bindPopup()
  L.marker([10, 180]).addTo(map)
  .bindPopup('A pretty CSS3 popup.<br> Easily customizable.')
  L.marker([-60, 100]).addTo(map)
  .bindPopup('A pretty CSS3 popup.<br> Easily customizable.')
  L.marker([-20, 50]).addTo(map)
  .bindPopup('A pretty CSS3 popup.<br> Easily customizable.')
  const onmapClick = function(e){
    map.setView([latitude, longitude], 5);
  }
  map.on('click', onmapClick);
  </script>
</body>
</html>